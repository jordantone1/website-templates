/* Updated styling and structure for a navigable monthly calendar layout */
<style>
  #calendar-container {
    text-align: center;
    margin: 20px auto;
    max-width: 600px;
  }
  #calendar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
  }
  #calendar-dates {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 5px;
  }
  .calendar-day {
    padding: 15px;
    background-color: #007BFF;
    color: white;
    border-radius: 5px;
    text-align: center;
    cursor: pointer;
  }
  .calendar-day:hover {
    background-color: #0056b3;
  }
  .disabled-day {
    background-color: #ccc;
    cursor: not-allowed;
  }
  .calendar-header {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    text-align: center;
    font-weight: bold;
    margin-bottom: 10px;
  }
  .nav-arrow {
    cursor: pointer;
    font-size: 1.5rem;
    padding: 5px 10px;
  }
</style>

<script>
  let currentDisplayedMonth = new Date();

  function generateCalendar() {
    const calendarDiv = document.getElementById('calendar-dates');
    calendarDiv.innerHTML = '';
    const today = new Date();
    const maxBookingDate = new Date();
    maxBookingDate.setMonth(maxBookingDate.getMonth() + 3);
    const currentMonth = new Date(currentDisplayedMonth.getFullYear(), currentDisplayedMonth.getMonth(), 1);
    const lastDate = new Date(currentDisplayedMonth.getFullYear(), currentDisplayedMonth.getMonth() + 1, 0);

    // Update header with current month and year
    document.getElementById('calendar-month-year').innerText = `${currentMonth.toLocaleString('default', { month: 'long' })} ${currentMonth.getFullYear()}`;

    // Add weekday headers
    const weekdays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
    weekdays.forEach(day => {
      const dayElement = document.createElement('div');
      dayElement.classList.add('calendar-day', 'disabled-day');
      dayElement.innerText = day;
      calendarDiv.appendChild(dayElement);
    });

    let date = new Date(currentMonth);
    date.setDate(1 - date.getDay());

    while (date <= lastDate || date.getDay() !== 0) {
      const dateStr = date.toISOString().split('T')[0];
      const dayElement = document.createElement('div');
      dayElement.classList.add('calendar-day');
      dayElement.innerText = date.getDate();

      if (
        date < new Date(today.getTime() + 24 * 60 * 60 * 1000) ||
        date > maxBookingDate ||
        date.getMonth() !== currentDisplayedMonth.getMonth()
      ) {
        dayElement.classList.add('disabled-day');
      } else {
        dayElement.onclick = function () {
          selectDate(dateStr);
        };
      }

      calendarDiv.appendChild(dayElement);
      date.setDate(date.getDate() + 1);
    }
  }

  function previousMonth() {
    currentDisplayedMonth.setMonth(currentDisplayedMonth.getMonth() - 1);
    generateCalendar();
  }

  function nextMonth() {
    currentDisplayedMonth.setMonth(currentDisplayedMonth.getMonth() + 1);
    generateCalendar();
  }
</script>

<div id="calendar-container">
  <div id="calendar-header">
    <span class="nav-arrow" onclick="previousMonth()">&#8592;</span>
    <h3 id="calendar-month-year"></h3>
    <span class="nav-arrow" onclick="nextMonth()">&#8594;</span>
  </div>
  <div id="calendar-dates"></div>
</div>


 
