<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Setup - Scheduling Template</title>
  <script>
    let businessDetails = {
      name: '',
      phone: '',
      address: '',
      socialMedia: {},
      images: [],
      backgroundImage: '',
      googleSheetURL: '',
      availability: {},
      services: []
    };

    function submitBusinessInfo() {
      businessDetails.name = document.getElementById('business-name').value;
      businessDetails.phone = document.getElementById('phone').value;
      businessDetails.address = document.getElementById('address').value;
      businessDetails.socialMedia = {
        instagram: document.getElementById('instagram').value,
        tiktok: document.getElementById('tiktok').value,
        facebook: document.getElementById('facebook').value
      };
      businessDetails.backgroundImage = document.getElementById('background-image').value;

      const images = document.querySelectorAll('.image-url');
      businessDetails.images = Array.from(images).map(img => img.value);

      const services = document.querySelectorAll('.service-entry');
      businessDetails.services = Array.from(services).map(service => ({
        name: service.querySelector('.service-name').value,
        price: service.querySelector('.service-price').value
      }));

      const availabilityDays = document.querySelectorAll('.availability-day');
      availabilityDays.forEach(day => {
        const dayName = day.dataset.day;
        const isAvailable = day.querySelector('.day-checkbox').checked;
        if (isAvailable) {
          const hours = day.querySelector('.day-hours').value;
          businessDetails.availability[dayName] = hours;
        }
      });

      alert('Business Information Saved Successfully!');
    }

    function addServiceField() {
      const serviceContainer = document.getElementById('services-container');
      const serviceDiv = document.createElement('div');
      serviceDiv.classList.add('service-entry');
      serviceDiv.innerHTML = `
        <input type="text" class="service-name" placeholder="Service Name">
        <input type="text" class="service-price" placeholder="Price">
        <button onclick="this.parentElement.remove()">Remove</button>
      `;
      serviceContainer.appendChild(serviceDiv);
    }

    function addImageField() {
      const imageContainer = document.getElementById('images-container');
      const imageInput = document.createElement('input');
      imageInput.type = 'text';
      imageInput.placeholder = 'Enter Image URL';
      imageInput.classList.add('image-url');
      imageContainer.appendChild(imageInput);
    }

    function generateAvailabilityFields() {
      const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
      const availabilityContainer = document.getElementById('availability-container');
      days.forEach(day => {
        const dayDiv = document.createElement('div');
        dayDiv.classList.add('availability-day');
        dayDiv.dataset.day = day;
        dayDiv.innerHTML = `
          <label>
            <input type="checkbox" class="day-checkbox"> ${day}
          </label>
          <input type="text" class="day-hours" placeholder="Hours (e.g., 9:00 AM - 5:00 PM)">
        `;
        availabilityContainer.appendChild(dayDiv);
      });
    }

    function linkGoogleSheet() {
      const sheetURL = document.getElementById('sheet-url').value;
      if (sheetURL) {
        businessDetails.googleSheetURL = sheetURL;
        promptPasswordSetup();
      } else {
        alert('Please paste a valid Google Sheets URL.');
      }
    }

    function promptPasswordSetup() {
      const password = prompt('Set up your admin password:');
      if (password && password.trim() !== '') {
        alert('Password successfully set and saved.');
      } else {
        alert('Password setup is required.');
      }
    }

    window.onload = function() {
      generateAvailabilityFields();
    }
  </script>
</head>
<body>
  <h1>Admin Setup</h1>

  <button onclick="window.location.href='index.html'">Go to Home Page</button>

  <h2>Business Information</h2>
  <input type="text" id="business-name" placeholder="Business Name"><br>
  <input type="text" id="phone" placeholder="Phone Number"><br>
  <input type="text" id="address" placeholder="Business Address"><br>

  <h2>Social Media Links</h2>
  <input type="text" id="instagram" placeholder="Instagram URL"><br>
  <input type="text" id="tiktok" placeholder="TikTok URL"><br>
  <input type="text" id="facebook" placeholder="Facebook URL"><br>

  <h2>Background Image</h2>
  <input type="text" id="background-image" placeholder="Background Image URL"><br>

  <h2>Upload Images</h2>
  <div id="images-container"></div>
  <button onclick="addImageField()">Add Image</button>

  <h2>Google Sheet Integration</h2>
  <input type="text" id="sheet-url" placeholder="Paste your Google Sheet URL"><br>
  <button onclick="linkGoogleSheet()">Confirm Google Sheet</button>

  <h2>Services Offered</h2>
  <div id="services-container"></div>
  <button onclick="addServiceField()">Add Service</button>

  <h2>Availability</h2>
  <div id="availability-container"></div>

  <br>
  <button onclick="submitBusinessInfo()">Save Business Info</button>
</body>
</html>

